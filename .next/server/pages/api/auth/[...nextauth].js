"use strict";(()=>{var e={};e.id=651,e.ids=[651],e.modules={1243:(e,i,r)=>{r.r(i),r.d(i,{config:()=>g,default:()=>m,routeModule:()=>p});var a={};r.r(a),r.d(a,{default:()=>u});var t=r(3480),n=r(8667),s=r(6435);let o=require("next-auth");var l=r.n(o),d=r(2371);let u=l()(d.N),m=(0,s.M)(a,"default"),g=(0,s.M)(a,"config"),p=new t.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/auth/[...nextauth]",pathname:"/api/auth/[...nextauth]",bundlePath:"",filename:""},userland:a})},1853:(e,i,r)=>{r.d(i,{z:()=>t});var a=r(6330);let t=globalThis.prisma??new a.PrismaClient},2371:(e,i,r)=>{r.d(i,{N:()=>s});let a=require("next-auth/providers/google");var t=r.n(a),n=r(1853);let s={providers:[t()({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{async signIn({user:e,account:i,profile:r}){if(i?.provider==="google")try{let i=await n.z.user.findUnique({where:{email:e.email}});if(i)i.googleId||await n.z.user.update({where:{id:i.id},data:{googleId:e.id,provider:"google",image:e.image,firstName:r?.given_name||i.firstName,lastName:r?.family_name||i.lastName}});else{let i="matthewvogel1729@gmail.com"===e.email;await n.z.user.create({data:{id:e.id,email:e.email,firstName:r?.given_name||e.name?.split(" ")[0]||"Unknown",lastName:r?.family_name||e.name?.split(" ").slice(1).join(" ")||"User",googleId:e.id,provider:"google",image:e.image,isAdmin:i}})}}catch(e){return console.error("Error during Google sign in:",e),!1}return!0},async session({session:e,user:i}){let r=await n.z.user.findUnique({where:{email:e.user?.email}});return r&&(e.user={...e.user,id:r.id,firstName:r.firstName,lastName:r.lastName,isAdmin:r.isAdmin,provider:r.provider,image:r.image}),e},jwt:async({token:e,user:i})=>(i&&(e.id=i.id),e)},pages:{signIn:"/"},session:{strategy:"jwt"}}},3480:(e,i,r)=>{e.exports=r(5600)},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6330:e=>{e.exports=require("@prisma/client")},6435:(e,i)=>{Object.defineProperty(i,"M",{enumerable:!0,get:function(){return function e(i,r){return r in i?i[r]:"then"in i&&"function"==typeof i.then?i.then(i=>e(i,r)):"function"==typeof i&&"default"===r?i:void 0}}})},8667:(e,i)=>{Object.defineProperty(i,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var i=require("../../../webpack-api-runtime.js");i.C(e);var r=i(i.s=1243);module.exports=r})();